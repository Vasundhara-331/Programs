# include <stdio.h>
int main()
{
    int r,c,i=0,j=0,sum[20][20],a[20][20],b[20][20],t[20][20],ch,trace=0,choice;
 do
 {
 printf("Enter the choice:");
 printf("\n1.Addition");
 printf("\n2.Transpose");
 printf("\n3.Trace");
 printf("\n");
 scanf("%d",&ch);
  switch(ch)
 {
  case 1:
  {
   printf("\nYou have selected Matrix Addition");
   printf("\nEnter the number of rows:");
   scanf("%d",&r);
   printf("\nEnter the number of columns:");
   scanf("%d",&c);
   if(r!=c)
   {
   printf("\nInvalid input.\nPlease enter a square matrix:");
   }
   else
   {
   printf("\nEnter the elements of Matrix A:");
   printf("\n");
   for(i=0;i<r;i++)
    {
    for(j=0;j<c;j++)
     {
      printf("A[%d][%d]: ",i,j);
      scanf("%d",&a[i][j]);
      printf("\n");
     }
    }
   printf("\nEnter the elements of Matrix B:\n");
   for(i=0;i<r;i++)
   {
    for(j=0;j<c;j++)
    {
     printf("B[%d][%d]: ",i,j);   
     scanf("%d",&b[i][j]);
     printf("\n");
    }
   }
   printf("\nMatrix A is:\n");
   for(i=0;i<r;i++)
   {
    for(j=0;j<c;j++)
    {
     printf("%d\t",a[i][j]);
    }
    printf("\n");
   }
   printf("\nMatrix B is:\n");
   for(i=0;i<r;i++)
   {
    for(j=0;j<c;j++)
    {
     printf("%d\t",b[i][j]);
    }
    printf("\n");
   }
   printf("\nSum of the two matrices is:\n");
   for(i=0;i<r;i++)
   {
    for(j=0;j<c;j++)
    {
      sum[i][j]=a[i][j]+b[i][j];
    }
   }
    for(i=0;i<r;i++)
    {
     for(j=0;j<c;j++)
     {
      printf("%d\t",sum[i][j]);
     }
     printf("\n");
    }
    }
    break;
   }
   case 2:
   {
    printf("\nYou have selected Transpose");
    printf("\nEnter the number of rows:");
    scanf("%d",&r);
    printf("\nEnter the number of columns:");
    scanf("%d",&c);
    printf("\nEnter the elements of Matrix A:\n");
   for(i=0;i<r;i++)
    {
    for(j=0;j<c;j++)
     {
      printf("A[%d][%d]: ",i,j);
      scanf("%d",&a[i][j]);
     }
    } 
   printf("\nMatrix A is:\n");
   for(i=0;i<r;i++)
   {
    for(j=0;j<c;j++)
    {
     printf("%d\t",a[i][j]);
    }
    printf("\n");
   }
   printf("\nTranspose of the matrix is:\n");
   for(i=0;i<r;i++)
   {
    for(j=0;j<c;j++)
    {
     t[j][i]=a[i][j];
    }
   }
   for(i=0;i<c;i++)
   {
    for(j=0;j<r;j++)
    {
     printf("%d\t",t[i][j]);
    }
    printf("\n");
   }
   break;
  }
  case 3:
  {
   printf("\nYou have selected Trace");
   printf("\nEnter the number of rows:");
   scanf("%d",&r);
   printf("\nEnter the number of columns:");
   scanf("%d",&c);
   if(r!=c)
   {
    printf("\nInvalid input.\nPlease enter a square matrix:");
   }
   else
   {
   printf("\nEnter the elements of Matrix A:\n");
   for(i=0;i<r;i++)
    {
    for(j=0;j<c;j++)
     {
      printf("A[%d][%d]: ",i,j);
      scanf("%d",&a[i][j]);
      printf("\n");
     }
    } 
   printf("\nMatrix A is:");
   printf("\n");
   for(i=0;i<r;i++)
   {
    for(j=0;j<c;j++)
    {
     printf("%d\t",a[i][j]);
    }
    printf("\n");
   }
   printf("\nTrace of matrix A is:");
   for(i=0;i<r;i++)
   {
    for(j=0;j<c;j++)
    {
     if(i==j)
     {
      trace=trace+a[i][j];
     }
    }
   }
   printf("%d",trace);
  }
   break;
  }
  default:
  {
   printf("\nInvalid choice. Pls try again");
  }
 }
 printf("\nWould you like to continue?");
 printf("\nIf YES, press 1, otherwise press 0");
 printf("\n");
 scanf("%d",&choice);
  }
 while(choice==1);
 return 0;
 }
